function Form_onload(){Xrm.Page.ui.tabs.get("AssignmentInformation").setVisible(!1),handleAssignmentSectionDisplay()}function submitTsr(){Xrm.Page.getAttribute("statuscode").setValue(1e8),Xrm.Page.getAttribute("statuscode").setSubmitMode("always"),Xrm.Page.data.entity.save()}function rejectByTsrManager(){var t=confirm("Reject this TSR?"),n;t==!0&&(Xrm.Page.getAttribute("ac_acceptreject").setValue(2),Xrm.Page.getAttribute("ac_acceptreject").setSubmitMode("always"),n=[],n[0]={},n[0].id=Xrm.Page.context.getUserId(),n[0].entityType="systemuser",Xrm.Page.getAttribute("ac_acceptedrejectedbyid").setValue(n),Xrm.Page.getAttribute("ac_approvedrejectedon").setValue(new Date),Xrm.Page.getAttribute("ac_acceptedrejectedbyid").setSubmitMode("always"),Xrm.Page.getAttribute("ac_approvedrejectedon").setSubmitMode("always"),Xrm.Page.getAttribute("statuscode").setValue(100000002),Xrm.Page.getAttribute("statuscode").setSubmitMode("always"),Xrm.Page.data.entity.save())}function acceptByTsrManager(){var n;Xrm.Page.getAttribute("ac_acceptreject").setValue(1),Xrm.Page.getAttribute("ac_acceptreject").setSubmitMode("always"),n=[],n[0]={},n[0].id=Xrm.Page.context.getUserId(),n[0].entityType="systemuser",Xrm.Page.getAttribute("ac_acceptedrejectedbyid").setValue(n),Xrm.Page.getAttribute("ac_approvedrejectedon").setValue(new Date),Xrm.Page.getAttribute("ac_acceptedrejectedbyid").setSubmitMode("always"),Xrm.Page.getAttribute("ac_approvedrejectedon").setSubmitMode("always"),Xrm.Page.getAttribute("statuscode").setValue(100000001),Xrm.Page.getAttribute("statuscode").setSubmitMode("always"),Xrm.Page.data.entity.save()}function handleAssignmentSectionDisplay(){Xrm.Page.getAttribute("statuscode").getValue()==100000001&&(Xrm.Page.ui.tabs.get("AssignmentInformation").setVisible(!0),Xrm.Page.getAttribute("ac_assigneeid").setRequiredLevel("required"),Xrm.Page.getAttribute("ac_dateofassignment").setRequiredLevel("required"),Xrm.Page.getAttribute("ac_responsibililty").setRequiredLevel("required"))}function calculateTotalTimeWorked(){var n=Xrm.Page.getAttribute("ac_totalrdhoursspent"),t=Xrm.Page.getAttribute("ac_techleadhrsspent").getValue()+Xrm.Page.getAttribute("ac_assignee2hrsspent").getValue()+Xrm.Page.getAttribute("ac_assignee3hrsspent").getValue()+Xrm.Page.getAttribute("ac_assignee4hrsspent").getValue();n.setValue(t.toString()),n.setSubmitMode("always")}function ac_accountid_onchange(){}function ac_acceptreject_onchange(){handleAssignmentSectionDisplay()}function ac_techleadhrsspent_onchange(){calculateTotalTimeWorked()}function ac_assignee2hrsspent_onchange(){calculateTotalTimeWorked()}function ac_assignee3hrsspent_onchange(){calculateTotalTimeWorked()}function ac_assignee4hrsspent_onchange(){calculateTotalTimeWorked()}